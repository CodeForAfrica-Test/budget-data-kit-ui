<div class="bg-light">
	<div class="overlay" ng-if="searching">
		<div class="spinner">
			<div class="spinner__item1"></div>
		  	<div class="spinner__item2"></div>
		  	<div class="spinner__item3"></div>
		  	<div class="spinner__item4"></div>
		</div>
	</div>
	<nav class="navigation">
		<div class="container no-padder">
			<span class="fa fa-search"></span>
			<input class="search-box-top col-md-6" ng-model="searchKeyword" type="text"  ng-enter="search()" ng-class="{'empty': !searchKeyword}">
		</div>
	</nav>

	<div class="container p-t-md">
		<div class="col-md-12 no-padder m-b-sm">
			<div class="col-md-2 search-num" ng-show="total">
				{{total}} results
			</div>
		</div>

		<div class="not-found col-md-4 col-md-offset-4 text-center m-t-md" ng-if="notFound">
			<img src="assets/img/ghost.png">
			<h1>oops!</h1>
			<p>We couldn't find what you were looking for.</p>
		</div>

		<div class="row padder-top m-t-sm animated animate-slow fadeInUp">
			<div class="col-md-4 col-sm-6 m-b-md shadow-mobile" ng-repeat="person in persons">
				<div class="col-md-12 card-md" ng-click="showResult(person)">
					<span class="col-md-12 no-padder">
						<h3>{{person.name}}</h3>
						<!-- <h5 class="badge">Senator</h5> -->
						<hr>
					</span>

					<span class="col-md-12 no-padder">
						<p>{{person.about}}</p>
					</span>

					<span class="col-md-6 col-xs-6 no-padder">
						<b>Political party</b>
						<p>APC</p>
					</span>

					<span class="col-md-6 col-xs-6 no-padder">
						<b>State</b>
						<p>{{person.state.name}}</p>	
					</span>

					<span class="col-md-6 col-xs-6 no-padder">
						<b>District</b>
						<p>{{person.district.name}}</p>
					</span>
				</div>
			</div>

			<div class="col-md-4 col-sm-6 m-b-md" ng-repeat="project in projects">
				<div class="col-md-12 card-md" ng-click="showProject(project)">
					<span class="col-md-12 no-padder">
						<p class="project-desc">{{project.description}}</p>
						<hr>
					</span>

					<span class="col-md-6 col-xs-6 no-padder">
						<b>Handler</b>
						<p>{{project.person.name}}</p>
					</span>
					
					<span class="col-md-6 col-xs-6 no-padder">
						<b>Agency</b>
						<p>{{project.agency}}</p>
					</span>

					<span class="col-md-6 col-xs-6 no-padder">
						<b>Budget</b>
						<p>N{{project.cost | number : fractionSize}}</p>
					</span>

					<span class="col-md-6 col-xs-6 no-padder">
						<b>State</b>
						<p>{{project.state.name}}</p>
					</span>

					<span class="col-md-6 col-xs-6 no-padder">
						<b>Ministry</b>
						<p>{{project.ministry}}</p>
					</span>	
				</div>
			</div>
		</div>
	</div>
	<div class="overlay overlay-dark" ng-show="personNode">
		<div class="col-md-6 col-md-offset-3 panel animated animate-slow bounceInUp no-padder">
			<div class="col-md-12 bio padder">
				<i class="fa fa-close clickable right" ng-click="close()"></i>
				<div class="avatar"></div>
				<h1 class="text-center">{{entity.name}}</h1>
				<p class="text-justify">Senator of the Federal Republic of Nigeria from Lagos State. He represents Lagos East in the current 7th National Assembly. Senator Ashafa is the Vice-Chairman, Senate Committee on Lands, Housing and Urban Development. He is also a member of the following Senate committees: Environment and Ecology Committee, Committee on Federal Character and Inter-Governmental Relations, Gas Committee, and Senate Services Committee.
				</p>
			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>Political Party</b>
				<p ng-if="entity.party">{{entity.party}}</p>
				<p ng-if="!entity.party">Not Available</p>
			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>State</b>
				<p ng-if="entity.state.name">{{entity.state.name}}</p>
				<p ng-if="!entity.state.name">Not Available</p>

			</div>
			<div class="col-xs-6 col-md-4 text-center b-b p-t-sm">
				<b>District</b>
				<p ng-if="entity.district.name">{{entity.district.name}}</p>
				<p ng-if="!entity.district.name">Not Available</p>

			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>Country</b>
				<p>Nigeria</p>

			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>Phone Number</b>
				<p ng-if="entity.phone">(234) {{entity.phone}}</p>
				<p ng-if="!entity.phone">Not Available</p>

			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>Email</b>
				<p ng-if="entity.email">{{entity.email}}</p>
				<p ng-if="!entity.email">Not Available</p>
			</div>
			
			<div class="col-md-12 p-l p-r projects-header">
				<h5 class="text-bold text-uppercase text-center">Projects in {{entity.district.name}}</h5>
			</div>

			<div class="panel-body clickable col-md-12 panel-top b-b p-r p-l" ng-repeat="contract in contracts" ng-click="showTab = !showTab" ng-class="{'bg-light': showTab}">
                <div class="truncate pull-left">{{contract.description}}</div>
                <i class="fa fa-angle-down pull-right" ng-show="!showTab"></i>
                <i class="fa fa-angle-up pull-right" ng-show="showTab"></i>
                <ul class="list-group m-t-md" ng-show="showTab">
                	<li class="list-group-item col-md-12 capitalize">
                        <p>{{contract.description}}</p>
                    </li>
                    <li class="list-group-item col-xs-6 col-md-4">
                        <h5>Ministry</h5>
                        <b>{{contract.ministry}}</b>
                        <b ng-if="!contract.ministry">NA</b>
                    </li>

                    <li class="list-group-item col-xs-6 col-md-4">
                        <h5>Agency</h5>
                        <b>{{contract.agency}}</b>
                    </li>

                    <li class="list-group-item col-xs-6 col-md-4">
                        <h5>Cost</h5>
                        <b>N{{contract.cost | number: fractionSize}}</b>
                    </li>
                    <li class="list-group-item col-xs-6 col-md-4">
                        <h5>District</h5>
                        <b>{{contract.district.name}}</b>
                    </li>
                    <li class="list-group-item col-xs-6 col-md-4">
                        <h5>State</h5>
                        <b>{{contract.state.name}}</b>
                    </li>
                </ul>
            </div>
		</div>
	</div>
	
	<!--Project Node-->
	<div class="overlay overlay-dark" ng-show="projectNode">
		<div class="col-md-6 col-md-offset-3 panel animated animate-slow bounceInUp no-padder">
			<div class="col-md-12 padder">
				<i class="fa fa-close clickable right" ng-click="close()"></i>
			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>Political Party</b>
				<p ng-if="entity.party">{{entity.party}}</p>
				<p ng-if="!entity.party">Not Available</p>
			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>State</b>
				<p ng-if="entity.state.name">{{entity.state.name}}</p>
				<p ng-if="!entity.state.name">Not Available</p>

			</div>
			<div class="col-xs-6 col-md-4 text-center b-b p-t-sm">
				<b>District</b>
				<p ng-if="entity.district.name">{{entity.district.name}}</p>
				<p ng-if="!entity.district.name">Not Available</p>

			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>Country</b>
				<p ng-if="entity.state.country">{{entity.state.country}}</p>
				<p ng-if="!entity.state.country">Not Available</p>

			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>Phone Number</b>
				<p ng-if="entity.phone">(234) {{entity.phone}}</p>
				<p ng-if="!entity.phone">Not Available</p>

			</div>
			<div class="col-xs-6 col-md-4 text-center b-b b-r p-t-sm">
				<b>Email</b>
				<p ng-if="entity.email">{{entity.email}}</p>
				<p ng-if="!entity.email">Not Available</p>
			</div>
		</div>
	</div>
	<div id="gradient"></div>
</div>